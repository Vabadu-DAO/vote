import{u as r,a as d,c as h,d as y,e as T,b as e,L as f,P,T as A,s as a,S as b,f as l,j as v,g as C,h as x}from"./index-7a5adea9.js";import{P as j,p as E}from"./ProposalForm-ec8f003b.js";import{P as F}from"./Page-e939ccea.js";import"./index.esm-87920604.js";const M=t=>t?{title_en:JSON.parse(t.title).en,description_en:JSON.parse(t.description).en,proposalStartTime:t.proposalStartTime*1e3,proposalEndTime:t.proposalEndTime*1e3,proposalSnapshotTime:t.proposalSnapshotTime*1e3,votingSystemType:t.votingSystem.votingSystemType,votingPowerStrategies:t.votingPowerStrategies,hide:t.hide}:{};function _(){const{daoAddress:t}=r(),{data:n}=d(t),{proposalAddress:s}=r(),{data:o}=h(s),{proposalStatus:i}=y(s),{mutate:c,isLoading:u}=T(),S=g=>{const m=E(g);c(m)};return!o||!n?e(p,{children:e(f,{loaderAmount:5})}):i!==P.NOT_STARTED?e(p,{children:e(N,{children:e(O,{children:e(A,{children:"Only pending proposals can be edited"})})})}):e(p,{children:e(j,{submitText:"Update",initialFormData:M(o==null?void 0:o.metadata),onSubmit:S,isLoading:u,dao:n,editMode:!0,status:i||void 0})})}const N=a(b)({width:"100%",p:{fontSize:18,fontWeight:600}}),O=a(l)({height:"100%",alignItems:"center",justifyContent:"center",minHeight:100}),p=({children:t})=>{const{daoAddress:n}=r(),{data:s}=d(n),{proposalAddress:o}=r();return e(F,{back:(()=>s?x.proposalPage.root(s.daoAddress,o):"")(),children:v(w,{children:[e(k,{title:"Edit proposal"}),t]})})},k=a(C)({marginTop:10}),w=a(l)({justifyContent:"center"});export{_ as EditProposal,_ as default};
